<!DOCTYPE html>
<html lang="fr">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">

		<script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
		<script src="https://rawgit.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>

		<!-- #Component materiau transparent -->
		<script>
    	AFRAME.registerComponent('shadow-material', {
    		init: function(){
    			console.log('shadow-material');
    			let el = this.el;
    			let self = this;
    			let mesh = el.getObject3D('mesh');
    			console.log(mesh);
    			if (!mesh){return;}
    			mesh.material = new THREE.ShadowMaterial();
    			mesh.material.opacity = 0.5;
    				}
    			});
		</script>
    </head>

    <body style='margin : 0px; overflow: hidden;'>

		<a-scene background="color: #1c92f4">

			<!-- #lumières -->
			<a-entity light="type: ambient; color: #CCC; intensity: 0.5"></a-entity>
			<a-entity light="type: directional; castShadow:true; color: white; intensity: 0.5" position="-1 2 1"></a-entity>

            <!-- #plane avec matériau transparent -->
			<a-plane color="#CCC" height="10" width="10" position="0 0 -5" rotation="-90 0 0" shadow="receive: true" shadow-material ></a-plane>

			<!-- #cube et sphere -->
            <a-box color="red" position="0 0.5 -5" shadow ></a-box>
            <a-sphere color="yellow" position="-0.97185 1.35884 -3.72075" scale="0.5 0.5 0.5" shadow></a-sphere>

			<!-- #camera -->
			<a-entity id="camera" position="0 1.6 0" camera look-controls></a-entity>
            
    	</a-scene>

  </body>
</html>
